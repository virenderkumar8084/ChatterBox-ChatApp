import{u as S,c as y,b0 as C,r as D,j as e,S as o,t as k,b7 as E,ah as H}from"./index-dRst-7iy.js";import{U as T}from"./UserItem-_aKwx2uN.js";import{b as w,a as B}from"./Menu-Bx84lkot.js";import{D as F,a as I}from"./DialogTitle-Bw4QftuY.js";import{T as L}from"./Typography-CDGuFNvf.js";import{B as c}from"./Button-ymTN7-ia.js";import"./ListItem-B_Tvfpp0.js";import"./Menu-DXxMw8cN.js";import"./Modal-HVwfm5_O.js";import"./isMuiElement-Cx3b-8fr.js";import"./Avatar-CUFCW8-T.js";import"./IconButton-Cd5V1Ggt.js";import"./Delete-B6dPH1Zf.js";const V=({chatId:n})=>{var d,m;const l=S(),{isAddMember:p}=y(s=>s.misc),[u,b]=w(E),{isLoading:x,data:r,isError:h,error:M}=C(n),[a,g]=D.useState([]),j=s=>{g(i=>i.includes(s)?i.filter(A=>A!==s):[...i,s])},f=()=>{u("Adding Members....",{members:a,chatId:n}),t()},t=()=>{l(H(!1))};return B([{isError:h,error:M}]),e.jsx(F,{open:p,onClose:t,children:e.jsxs(o,{p:"2rem",width:"20rem",spacing:"2rem",children:[e.jsx(I,{textAlign:"center",children:"Add Member"}),e.jsx(o,{children:x?e.jsx(k,{}):((d=r==null?void 0:r.friends)==null?void 0:d.length)>0?(m=r==null?void 0:r.friends)==null?void 0:m.map(s=>e.jsx(T,{user:s,handler:j,isAdded:a.includes(s._id)},s._id)):e.jsx(L,{textAlign:"center",children:"No Friends"})}),e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-evenly",children:[e.jsx(c,{color:"error",onClick:t,children:"Cancel"}),e.jsx(c,{onClick:f,variant:"contained",disabled:b,children:"Submit Changes"})]})]})})};export{V as default};
