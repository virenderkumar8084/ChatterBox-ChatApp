import{u as j,a_ as g,c as w,j as e,S as n,t as y,r as N,a$ as k,X as l}from"./index-dRst-7iy.js";import{b as q,a as A}from"./Menu-Bx84lkot.js";import{D as R,a as b}from"./DialogTitle-Bw4QftuY.js";import{T as d}from"./Typography-CDGuFNvf.js";import{L as v}from"./ListItem-B_Tvfpp0.js";import{A as I}from"./Avatar-CUFCW8-T.js";import{B as m}from"./Button-ymTN7-ia.js";import"./Modal-HVwfm5_O.js";import"./Menu-DXxMw8cN.js";import"./isMuiElement-Cx3b-8fr.js";const M=()=>{var c;const i=j(),{isLoading:r,data:s,error:o,isError:a}=g(),{isNotification:p}=w(t=>t.misc),[x]=q(k),u=async({_id:t,accept:h})=>{i(l(!1)),await x("Accepting...",{requestId:t,accept:h})},f=()=>i(l(!1));return A([{error:o,isError:a}]),e.jsx(R,{open:p,onClose:f,children:e.jsxs(n,{p:{xs:"1rem",sm:"2rem"},width:"36rem",children:[e.jsx(b,{children:"Notifications"}),r?e.jsx(y,{}):e.jsx(e.Fragment,{children:(s==null?void 0:s.allRequests.length)>0?(c=s==null?void 0:s.allRequests)==null?void 0:c.map(t=>e.jsx(C,{sender:t.sender,_id:t._id,handler:u},t._id)):e.jsx(d,{textAlign:"center",children:"No Notifications"})})]})})},C=N.memo(({sender:i,_id:r,handler:s})=>{const{name:o,avatar:a}=i;return e.jsx(v,{children:e.jsxs(n,{direction:"row",alignItems:"center",spacing:"1rem",width:"100%",children:[e.jsx(I,{})," ",e.jsx(d,{variant:"body1",sx:{flexGrow:1,display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},children:`${o} sent you a friend request.`}),e.jsxs(n,{direction:{xs:"column",sm:"row"},children:[e.jsx(m,{onClick:()=>s({_id:r,accept:!0}),children:"Accept"}),e.jsx(m,{color:"error",onClick:()=>s({_id:r,accept:!1}),children:"Reject"})]})]})})});export{M as default};
