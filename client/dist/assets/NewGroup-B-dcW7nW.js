import{c as w,u as G,b0 as N,r as v,j as e,S as n,t as C,b1 as y,_ as m,W as M}from"./index-dRst-7iy.js";import{u as S}from"./index-WJTt8NRO.js";import{U as A}from"./UserItem-_aKwx2uN.js";import{b as T}from"./Menu-Bx84lkot.js";import{D as k,a as D}from"./DialogTitle-Bw4QftuY.js";import{T as H}from"./TextField-zR2u7fcs.js";import{T as _}from"./Typography-CDGuFNvf.js";import{B as c}from"./Button-ymTN7-ia.js";import"./ListItem-B_Tvfpp0.js";import"./Menu-DXxMw8cN.js";import"./Modal-HVwfm5_O.js";import"./isMuiElement-Cx3b-8fr.js";import"./Avatar-CUFCW8-T.js";import"./IconButton-Cd5V1Ggt.js";import"./Delete-B6dPH1Zf.js";const Y=()=>{var l;const{isNewGroup:u}=w(r=>r.misc),s=S(""),p=G(),{isError:E,isLoading:d,error:I,data:t}=N(),[x,h]=T(y),[o,f]=v.useState([]),b=r=>{f(i=>i.includes(r)?i.filter(j=>j!==r):[...i,r])},g=()=>{if(!s.value)return m.error("Group name is required");if(o.length<2)return m.error("Please Select Atleast 3 Members");x("Creating New Group...",{name:s.value,members:o}),a()},a=()=>{p(M(!1))};return e.jsx(k,{open:u,onClose:a,children:e.jsxs(n,{p:{xs:"1rem",sm:"2rem"},width:"25rem",spacing:"2rem",children:[e.jsx(D,{textAlign:"center",variant:"h4",children:"New Group"}),e.jsx(H,{label:"Group Name",value:s.value,onChange:s.changeHandler}),e.jsx(_,{variant:"body1",children:"Members"}),e.jsx(n,{children:d?e.jsx(C,{}):(l=t==null?void 0:t.friends)==null?void 0:l.map(r=>e.jsx(A,{user:r,handler:b,isAdded:o.includes(r._id)},r._id))}),e.jsxs(n,{direction:"row",justifyContent:"space-evenly",children:[e.jsx(c,{variant:"text",color:"error",size:"large",onClick:a,children:"Cancel"}),e.jsx(c,{variant:"contained",size:"large",onClick:g,disabled:h,children:"Create"})]})]})})};export{Y as default};
